#+TITLE: 毕业论文中期报告
#+AUTHOR: 董晨阳
#+EMAIL: 1800015446@pku.edu.cn
#+BIBLIOGRAPHY: ../thesis.bib

* 毕业论文进展
# （含阶段性成果）
自 2014 年“11 超日债”违约以来，我国信用债市场中投资者“刚性兑付”的信念逐步动摇、破灭。及至 2021 年，永城煤电打破了人们对 AAA 级国企的“刚兑信仰”，恒大、海航违约使人们意识到并不存在所谓“大而不倒”，投资者对债券投资逐步恢复理性，我国债券市场也愈发成熟，对债券违约的认识也愈发深刻。本文计划从债券违约影响因素出发，研究我国债券市场违约特征，并通过机器学习的方式佐证、拓展计量模型，以期对债券市场有一个比较好的刻画。
** 文献综述
:PROPERTIES:
:CUSTOM_ID: zs
:END:
信用评级是企业违约风险最直观的表述之一，不少学者从信用评级的角度研究企业违约。难以否认的是，我国信用评级市场存在很大的不完善，信用评级比较扭曲，如图[[rating]]所示，一半为最高评级 AAA 。
这很大程度上是由于发行人付费的模式引起的。[cite/text/c:@吴育辉2020] 指出，“发行人付费”模式下，信用评级虽然可以在一定程度上包含公司的内部私有信息，但由于独立性缺失问题，其总体的信用评级质量仍然低于“投资人付费”模式下的信用 评级质量。
评级往往是为了维护发行人利益，初始给予很高的评级，随后在违约事件已经板上钉钉时几天内连续下调原先的虚高评级至垃圾级。[cite:@陈关亭2021多重信用评级与债券融资成本]就对这种现象发出强烈抨击，认为竞争付费导致评级机构存在评级偏差，部分评级机构声誉较差。
事实上，被[cite:@王雄元2013声誉机制]列为低声誉评级机构的大公国际，因涉嫌帮助欺诈发行“五洋债”，应承担 10% 的连带责任赔偿 7400 万元。但大公竟称“公司已经发不出工资，顶多赔偿150万元”，最终被列入失信被执行人，可见其对声誉的重视程度。
不仅仅是国内，国外也有学者提出评级可能是最差的信用评估方式[cite:@blochlinger2018ratings]，债券交易的价格可能更有效[cite:@badoer2019relevance]。我国也是如此，债券价格大幅偏离估值往往是违约的先兆，但单纯以价格异动预测违约存在不少假阳性情况，特别是在城投债中。

#+begin_src python :exports none
import matplotlib.pyplot as plt
import seaborn as sns

sns.set(style="white", context="paper")
data = [
    ("AAA", 24905),
    ("A-1", 6502),
    ("AA+", 11019),
    ("AA", 7224),
    ("AA-", 634),
    ("A+", 371),
    ("A", 175),
    ("A-", 40),
    ("BBB+", 60),
    ("BBB", 11),
    ("BBB-", 52),
    ("BB+", 6),
]

plt.pie([i[1] for i in data])
allbond = sum([i[1] for i in data])
labels = [f"{i[0]}: {round(i[1]/allbond*100,2)} %" for i in data]
plt.legend(labels=labels, bbox_to_anchor=(0.95, 1))
plt.savefig("../data/rating_from_2014.png")
return "../data/rating_from_2014.png"
#+end_src

#+NAME: rating
#+CAPTION: 信用债发行评级统计
[[file:../data/rating_from_2014.png]]

公司层面的研究很多还有涉及到公司治理方面的研究。
[cite/text/c:@林晚发2018高管任职经历的得与失]从高管任职经历出发，发现有高管担任过人大代表或政协委员的企业债券发行成功率更高，
[cite/text/c:@anginer2018corporate]提出一个涵盖管理、约束、独立三方面指标的公司治理指标，并指出公司治理增加一个标准差使银行的违约距离指标降低了 0.14 个标准差。
[cite/text/c:@ding2021corporate]和[cite/text/c:@subrahmanyam2017credit]分别从疫情和引入 CDS 对公司治理的影响出发，研究外生冲击由于公司治理能力的差异影响偿债能力的差异。

宏观层面
[cite/text/c:@bai2019common]和[cite/text/c:@bali2021macroeconomic]分别从宏观经济下行和宏观经济不确定性出发，研究宏观环境对于公司债利差的影响。
[cite/text/c:@梅冬州2021财政扩张]和[cite/text/c:@2020Fiscal] 则认为财政扩张导致挤出效应，从而民企面临融资困境，进而违约率上升，利差走阔。
[cite/text/c:@王博2019货币政策不确定性]指出货币政策不确定性的增加会带来违约风险的上升。此外，流动性可能会影响违约[cite:@brogaard2017stock]，更高的流动性可以通过提高价格效率来降低违约风险，或者通过放松投资者的退出能力来改善公司治理。

最后还有风险传染角度，有关研究主要集中在系统性风险传染。
[cite/text/c:@苟文均2016债务杠杆与系统性风险传染机制]基于 CCA 模型，提出杠杆率应从较高居民转移至政府等低杠杆部门，以降低违约风险。
[cite/text/c:@2020Do] VAR 模型，认为几乎所有的系统性风险指标对对违约率都有预测能力。
[cite/text/c:@azizpour2018exploring]则认为公司之间的财务、法律或业务关系可能充当风险分散的渠道，通过捕捉系统性风险和这种非系统性的聚类，可以几乎完美地匹配了的时间变化结果所隐含的时间变化的违约计数和违约时间的理论分布。

** 理论模型
*** 微观层次
本文将微观层面影响企业违约的因素分为以下四类，主要包含企业级的指标：
**** 公司层面

国企发行了80%的债券，但违约中只占了15%，有学者指出可能是由于国企存在政府支持[cite:@mo2021china]，也有可能国企经营情况较好。因此，本文将公司性质作为影响因素之一建模。

此外，股东对企业的支持也可能影响是否违约，如苏宁易购实控人难以向企业注血，导致苏宁走向违约。
上市企业比非上市企业融资方式更多，融资额通常更大，因此上市与否也可能影响违约。

此外，正如[[#zs]]中对公司治理的研究所揭示，公司治理成效也可能影响违约因素。但是一方面公司治理会影响违约与否，违约企业通常会面临法律纠纷、债权人接管等情况，令企业公司治理发生很大变化。本文计划以持有基金占比作为公司治理的代理变量。公募基金相较于考虑违约与否，更加担心债券持有期间贬值，这就使他们更加担心企业公司治理存在问题，即基金持有比例和公司治理强相关。公募基金持有债券类似于交易性金融资产，而银行持有债券交易更少，类似于持有至到期投资。公募基金在评级下调超出风控阈值后必须斩仓，除非债券流动性过低有价无市，而所有违约债券都会被下调为垃圾级，而评级下调的债券中违约中只是少数，因此公募基金持有比例与违约弱相关。因此本文采用基金持有比例来表征公司治理。

最后，公司层面还有一些难以量化到因素，如发行人主观意愿（花样年地产账面现金充足“花式”躺平违约）、财务造假（康美药业、五洋建设）。但因此违约的是少数，绝大多数地产商苦苦挣扎避免躺平，绝大多数企业报表准确。因此本文不将这些因素纳入考虑。
**** 经营层面
企业面临流动性危机，很多情况下是经营不及预期，营收大幅亏损，进而导致违约。

客户集中度过高，可能会导致企业面临较高的风险[cite:@王雄元2017客户集中度与公司债二级市场信用利差]。集中的客户有能力要求企业降价、使用商票结算等以降低自身成本，通过压迫企业获得更大利润空间。例如恒大倒下影响上游供应商南通三建展期。

经营过程中的杠杆率也有可能影响违约[cite:@王永钦2019杠杆率如何影响资产价格]。本文采用标准券折算率，即质押企业债券可以获得多大比例的标准券衡量杠杆率。
**** 财务层面
对于会计指标，[cite/text/c:@blochlinger2018ratings]指出 Altman's Z 指标是很好的预测违约会计指标。
此外违约本质上是企业持有的现金及其等价物无法偿还到期债务，因此本文也将考虑现金短债比。
**** 评级指标
[[#zs]] 中各学者对评级指标的批判非常有借鉴意义。但即便以预测的角度看评级并不准确，但以回测的角度看，评级也反映了一定的潜在信息，因此本文也将主体评级纳入考虑。
*** 中观层次
中观层次为非企业级、非全国级的因素。如行业、流动性和地理因素。

#+begin_src python :exports none
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd
from sqlalchemy import create_engine
rc = {"font.sans-serif": "SimHei", "axes.unicode_minus": False}
sns.set(style="white",font="SimHei", context="paper",rc=rc)
plt.rcParams["font.sans-serif"] = []  # 显示中文不乱码
eng = create_engine("mysql+pymysql://root:Lyj822919@localhost/thesis")
defaultent = pd.read_sql("SELECT DISTINCT `发行人` FROM defaultent", eng)
allent = pd.read_sql("SELECT `企业名称`, `所属行业一级` FROM enterprise", eng)
defaultent["default"] = 1
defaultent.rename(columns={"发行人": "企业名称"}, inplace=True)
defaultent.drop_duplicates(subset=["企业名称"], keep="last", inplace=True)

enterprise = allent.merge(defaultent[["企业名称", "default"]], on="企业名称", how="left")[
    ["所属行业一级", "default"]
]
enterprise = enterprise.fillna(0)
enterprise = enterprise[enterprise["所属行业一级"] != 0]
res = {}
for industry, group in enterprise.groupby("所属行业一级"):
    if len(group) < 20 or industry == "金融":
        continue
    res[industry] = sum(group["default"]) / len(group["default"])
plt.bar(res.keys(), res.values())
f = "../data/industry.png"
plt.savefig(f)
return f
#+end_src

#+NAME: industry
#+CAPTION: 违约债分行业分布
[[file:../data/industry.png]]

如表 [[industry]] 所示，综合考虑发行人个数和 2014 年以来的经济景气程度，基本可以排除行业聚类，即某行业因行业景气集中某段时间违约的情况。即便是近期的房地产违约风波，也并非主要由于行业景气，而是由于房地产“三条红线”等政策约束。因此本文将主要考虑房地产政策（房地产行业且时间大于 2020 年），而不考虑行业本身。

#+NAME: geo
#+CAPTION: 违约债地理分布
[[file:../data/default_by_geo.png]]
地理上看，
一方面经济落后地区违约风险较大，一方面经济较好的地区企业发债数量较多可能导致违约金额较大，如图[[geo]]显示出后一种作用较强。总的来说地理上的传染尚不明晰，看似地理上的传染更多是因为股权、担保的关系，可能城投债违约后显现出来。

最后是流动性，本文计划以债券成交金额为流动性指标。当市场流动性偏紧时，如永煤违约后各机构连 AAA 国企也不敢买，成交量萎靡流动性偏紧，导致冀中能源、紫光、清华控股等无法发债接续，到期压力巨大，最终部分企业走向违约。
*** 宏观层次
如[[#zs]]中学者研究，货币政策与财政政策可能会对企业违约有影响。本文计划财政政策使用政府支出占GDP比重表征，货币政策以 SHIBOR 利率表征。

有学者对债券回报率做 Fama 因子分析
[cite:@chung2019volatility]
，发现以 VIX 指数为代表的波动风险的影响是普遍存在的。
因此本文效仿选择上证 50 期权的隐含波动率作为波动率指标，2015 年期权推出之前则采用上证历史波动率。

** 计量检验
*** 数据清洗

我国金融机构和非金融机构之间存在很大的监管差异。金融机构特别是银行、保险等行业在出现风险时，往往由于涉及面众多，可能会引发系统性风险，政府往往会及时采取手段控制风险，如接管安邦保险、明天系的银行、保险等金融机构。因此在建模过程中，我们会在数据中排除掉商业银行、保险公司、证券公司类的金融机构。

城投公司是一个独特的存在。截止 2022 年 2 月，我国信用债券市场中企业债、公司债、中期票据、短融、超短融以及定向工具存量 66.5  万亿，而城投债存量 13 万亿。大多数区县级城投公司以及少数市级城投公司财务状况都很不健康：负债率居高不下，财政回款慢。但迄今为止真正意义上的城投公司违约尚未出现。[cite/text/c:@钟辉勇2016城投债的担保可信吗]指出城投债存在隐性政府背书兜底。例如 2020 年底受永煤信用事件的冲击，投资者对违约的担忧上升、风险偏好下降，出现了“抱团”城投的现象。
2021 年 7 月银保监发 [2021]15 号文指出，各银行保险机构要严格执行地方政府融资相关政策要求，打消财政兜底幻觉，强化合规管理、尽职调查，不得以任何形式新增地方政府隐性债务。或许在将来城投公司违约将逐步正常化，但目前而言城投公司违约的影响因素尚不清晰且与其他企业区别较大，因此我们在数据中亦排除城投债。

最后，我们在回归中加入年份作为控制变量，以控制外生事件冲击，如疫情等。

*** 计量回归分析
如表\ref{logitresult}所示为逻辑斯蒂回归模型结论。

#+begin_export latex
\begin{center}
	\begin{tabular}{>{\bfseries}p{0.25\linewidth}p{0.2\linewidth}>{\bfseries}p{0.25\linewidth}p{0.2\linewidth}}
		\hline
		Dep. Variable:   & default          & No. Observations: & 6623       \\
		Model:           & Logit            & Df Residuals:     & 6592       \\
		Method:          & MLE              & Df Model:         & 30         \\
		Date:            & Mon, 14 Feb 2022 & Pseudo R-squ.:    & 0.7014     \\
		Time:            & 13:44:59         & Log-Likelihood:   & -246.83    \\
		converged:       & False            & LL-Null:          & -826.49    \\
		Covariance Type: & nonrobust        & LLR p-value:      & 1.021e-224 \\
	\end{tabular}
	\begin{longtable}{>{\bfseries}p{0.18\linewidth}p{0.1\linewidth}p{0.1\linewidth}p{0.1\linewidth}p{0.1\linewidth}p{0.12\linewidth}p{0.1\linewidth}}
		\hline
		\textbf{variable}  & \textbf{coef} & \textbf{std err} & \textbf{z} & \textbf{P>|z|} & \textbf{[0.025} & \textbf{0.975]} \\ \hline
		const              & -7.3147       & 2.666            & -2.744     & 0.006          & -12.540         & -2.089          \\ \hline
		评级\_A以上        & -0.1559       & 0.710            & -0.219     & 0.826          & -1.548          & 1.237           \\ \hline
		评级\_B            & 3.1253        & 0.347            & 8.998      & 0.000          & 2.445           & 3.806           \\ \hline
		评级\_C            & 6.7123        & 0.430            & 15.622     & 0.000          & 5.870           & 7.554           \\ \hline
		国有企业           & -3.4180       & 0.733            & -4.660     & 0.000          & -4.856          & -1.980          \\ \hline
		外资企业           & -2.9746       & 0.937            & -3.175     & 0.001          & -4.811          & -1.138          \\ \hline
		民营企业           & -1.7211       & 0.706            & -2.439     & 0.015          & -3.104          & -0.338          \\ \hline
		集体企业           & -2.8521       & 1.117            & -2.554     & 0.011          & -5.041          & -0.663          \\ \hline
		上市企业           & -0.5207       & 0.387            & -1.346     & 0.178          & -1.279          & 0.238           \\ \hline
		持有基金占比       & -0.1531       & 0.135            & -1.131     & 0.258          & -0.418          & 0.112           \\ \hline
		大股东持股比例     & -0.0036       & 0.005            & -0.671     & 0.503          & -0.014          & 0.007           \\ \hline
		主营业务收入(万元) & 5.105e-08     & 2.66e-08         & 1.918      & 0.055          & -1.12e-09       & 1.03e-07        \\ \hline
		应付账款（万元）   & -3.556e-12    & 6.32e-12         & -0.563     & 0.574          & -1.59e-11       & 8.83e-12        \\ \hline
		标准券折算率       & -1.0401       & 1.294            & -0.804     & 0.422          & -3.577          & 1.496           \\ \hline
		净资产(万元)       & -4.853e-08    & 5.58e-08         & -0.871     & 0.384          & -1.58e-07       & 6.07e-08        \\ \hline
		现金短债比         & -0.4579       & 0.406            & -1.129     & 0.259          & -1.253          & 0.337           \\ \hline
		流动性             & -1.482e-10    & 1.58e-10         & -0.938     & 0.348          & -4.58e-10       & 1.61e-10        \\ \hline
		房地产政策         & 2.9309        & 0.977            & 3.000      & 0.003          & 1.016           & 4.845           \\ \hline
		Z                  & -0.0895       & 0.045            & -2.001     & 0.045          & -0.177          & -0.002          \\ \hline
		政府支出/GDP       & 2.0418        & 4.677            & 0.437      & 0.662          & -7.124          & 11.208          \\ \hline
		SHIBOR             & 0.5866        & 0.400            & 1.465      & 0.143          & -0.198          & 1.371           \\ \hline
		波动率             & 0.0671        & 0.033            & 2.002      & 0.045          & 0.001           & 0.133           \\ \hline
		% 发债日\_2014       & 0.0876        & 0.806            & 0.109      & 0.913          & -1.493          & 1.668           \\ \hline
		% 发债日\_2015       & 0.7734        & 0.808            & 0.957      & 0.338          & -0.810          & 2.357           \\ \hline
		% 发债日\_2016       & 2.3629        & 0.945            & 2.502      & 0.012          & 0.512           & 4.214           \\ \hline
		% 发债日\_2017       & 2.1768        & 0.891            & 2.443      & 0.015          & 0.431           & 3.923           \\ \hline
		% 发债日\_2018       & 2.3469        & 0.726            & 3.233      & 0.001          & 0.924           & 3.770           \\ \hline
		% 发债日\_2019       & 2.4301        & 0.928            & 2.618      & 0.009          & 0.610           & 4.250           \\ \hline
		% 发债日\_2020       & 2.5645        & 1.091            & 2.351      & 0.019          & 0.427           & 4.702           \\ \hline
		% 发债日\_2021       & 0.1101        & 1.247            & 0.088      & 0.930          & -2.335          & 2.555           \\ \hline
		% 发债日\_2022       & -15.2080      & 2480.879         & -0.006     & 0.995          & -4877.642       & 4847.226        \\ \hline
		\caption{Logit 模型回归结果}
    \label{logitresult}
	\end{longtable}
\end{center}
#+end_export

微观角度，评级 B/C 的企业，相较于评级 A以上企业违约率明显增加，而 AAA 企业相较于 AA 或 A 违约率差异不大，这是和预期相符的：A 评级及以上企业违约应是预期外事件，评级较低的企业更容易违约。但利用违约前一个月的评级则评级不显著，侧面说明了我国评级用来预测的准确率较低，很多都是在违约即将发生时匆忙调至垃圾级。
国企、外企、集体企业、民营企业违约可能性依次增加亦符合预期：国企可能存在一定的政府支持[cite:@mo2021china]，跨国企业通常资金雄厚。
上市公司违约率较低但显著程度不高。
违约本质上还是财务中可用的资金无法覆盖到期应付的债务，因此经营和财务指标对违约的解释力较强。主营收入的增多可以显著冲抵潜在违约的可能性。财务指标 Z 值预警亦显著。

中观角度，房地产政策显著性很高。2020 年以来地产行业受到的冲击较大，企业融资受到约束，之前的高杠杆高周转的无序扩张的苦果使得地产债于 2021 年爆发了违约大潮，几乎所有的违约地产企业都是在 2021 年特别是后半年违约的。

宏观政策对违约显著性不高。我国宏观政策对违约，更多是以稳为主，认为违约是一种正常现象，但不希望大规模的集中违约，影响实体经济。如定义地产债危机是“少数企业”的激进扩张导致的，但 2021 年 12 月超预期降准释放流动性，且房贷政策有所放松，以应对恒大的倒下。
但是波动率显著，侧面显示出经济以稳为主的重要性：稳定的经济可以降低违约事件的发生。

** 机器学习验证与比较
违约实际上并非线性的因素叠加，包含了非线性的因素，如华夏幸福违约，既存在过度扩张导致现金流承压，又存在重要股东拒绝为其扩张买单，最终资金链断裂。机器学习适合于提取其中非线性因素。但违约样本是偏态分布的，违约债只占约 1%，通过神经网络等方式的机器学习会使机器判断有误。综合考虑下决定采用决策树和随机森林两种受样本分布偏态影响较小的方式进行预测。决策树训练结果可视化如图[[decisiontree]]所示，logit 模型和两种机器学习算法模型准确率如表[[result]]所示。


#+NAME: decisiontree
#+CAPTION: 决策树
[[../data/decision_tree.png]]

图[[decisiontree]]决策树算法的关键节点如波动率、主营收入、企业性质、Z 值等在 logit 模型中显著，不显著的大股东持股比例分枝后判断的数值仅勉强超过阈值，与 logit 模型互相印证。

#+NAME: result
#+CAPTION: 不同模型的比较
|                       | accuracy | error rate | precision | recall |   f1 |
|-----------------------+----------+------------+-----------+--------+------|
| 全部预测不违约        |     0.99 |       0.01 |         - |      0 |    - |
| Logistic(全样本)      |     0.99 |       0.01 |      0.86 |   0.72 | 0.78 |
| Decision Tree(测试集) |     0.99 |       0.01 |      0.93 |   0.73 | 0.82 |
| Random Forest(测试集) |     0.99 |       0.01 |      0.85 |   0.70 | 0.76 |

表[[result]]中准确率 accuracy 为预测正确的概率，精确率 precision 为预测违约的样本中确实违约的概率，召回率 recall 为事实违约样本中预测正确的概率。精确率和召回率是两个不同方面的机器学习分类器评价指标，其调和平均 F1 > 0.5 则说明分类器是有效的。表[[result]]中准确率与全部预测不违约的 0.99 相同，这是由于样本分布偏态造成的。但 F1 值均高于 0.5 ，证明分类器是有效的。且决策树算法显著优于其他算法。

决策树优于 logit 模型算法在于其包含了非线形因素。
而随机森林可能存在一定的训练集上的过拟合。
如图[[roc]]所示，ROC 曲线的含义是设定任意阈值，得到的真阳性率和假阳性率。随后不断更改阈值，得到 ROC 曲线。AUC 定义为 ROC 曲线下的阈值，AUC面积越大一般认为模型拟合越好。可以看出在训练集上随机森林模型可能存在一定的过拟合，导致 AUC 达到 0.99 ，而 logit 模型在训练集上不佳。
#+NAME: roc
#+CAPTION: ROC曲线与AUC值
[[../data/roc.png]]

* 稳健性检验
Z 值非常重要，将 Z 值替换为常用的 1.8 和 2.675 的 dummy 变量，或展开 Z 值的指标。

* 结论和展望
2021 年以来，中资高收益债走入了至暗时刻，甚至对中国宏观经济造成了一定的影响。
众多过去曾名誉较好的发行人走向了违约，一些企业也被艰难的融资环境挤向了违约，但更多的企业仍在苦苦支撑；未来的城投债压力下，如果城投违约亦将是打破预期的大冲击事件，也会对信用债市场造成冲击，影响非常多的企业，甚至于使本不该倒下的企业倒掉。诚然违约是且应当是经济中的正常现象，然则前事不忘，后事之师。
我们可以看到，就目前而言，企业保持以 Z 值为代表的健康的财务状况，扩大主营业务，维持一定的营运资本和息税前利润率，减少高分红增厚企业收益，规避高杠杆，提升资产周转率和利用率，是可以显著降低违约概率的措施。政府应当保持稳健的政策，提供稳定的政策和融资环境，引导产业发展时不应过度扶持。


#+PRINT_BIBLIOGRAPHY:
* plot
#+begin_src python :results file
import matplotlib.pyplot as plt
import seaborn as sns
import pandas as pd
rc = {"font.sans-serif": "SimHei", "axes.unicode_minus": False}
sns.set(style="white",font="SimHei", context="paper",rc=rc)
plt.rcParams["font.sans-serif"] = []  # 显示中文不乱码
df = pd.read_excel("../../data/wind/违约债行业分布.xlsx")
fig, ax1 = plt.subplots()
ax1 = sns.barplot(x="行业", y="违约债券余额(亿元)", data=df)
ax1.set_xticklabels(ax1.get_xticklabels(), rotation=40, ha="right")
ax2 = ax1.twinx()
ax2 = sns.lineplot(x="行业", y="累计违约率(%)", data=df)
fname = "../data/industry.png"
plt.tight_layout()
plt.savefig(fname)
return fname

#+end_src

#+RESULTS:
[[file:../data/industry.png]]

#+begin_src python :results file
import matplotlib.pyplot as plt
import seaborn as sns
import datetime
sns.set(style="white", context="paper")
x=[20200706, 20201112, 20201116, 20201208, 20210115, 20210318, 20210326, 20210408]
x = [datetime.datetime.strptime(str(i), "%Y%m%d") for i in x]
y=[1,1,2,4,4,6,8,9][::-1]
plt.plot(x,y)
plt.scatter(x[2],y[2], marker='x')
plt.text(x[2] + datetime.timedelta(days=3), y[2] + 0.15, s='default' )
plt.yticks([i for i in range(1,10)],["AAA", "AA", "A", "BBB", "BB", "B", "CCC", "CC", "C"][::-1])
fname = "../data/rating_of_zg.png"
plt.savefig(fname)
return fname
#+end_src

#+RESULTS:
[[file:../data/rating_of_zg.png]]
